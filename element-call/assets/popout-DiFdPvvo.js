import{l as u,aJ as k,ac as x,j as r,a as o,aK as E,k as S,aL as b}from"./components-DuRBtGp8-DJ7deGYZ.js";setLKLogLevel("info");u.info("Element Call popout dev");const s=k.createRoot(document.getElementById("root"));let i=null;window.isSecureContext?navigator.mediaDevices||(i=new Error("Your browser does not support WebRTC.")):i=new Error(`This app cannot run in an insecure context. To fix this, access the app via a local loopback address, or serve it over HTTPS.
https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts`);if(i!==null)throw s.render(i.message),i;const R=styled(x,{shouldForwardProp:e=>e!=="height"})(({height:e})=>({height:e,width:"100%"})),j=()=>{const{accessToken:e,mediaType:a,participantId:c,livekitUrl:p}=E(),[n,w]=o.useState(),[m,h]=o.useState(),[f,g]=o.useState(window.innerHeight);o.useEffect(()=>{let t=0;return n===void 0&&(t=window.setTimeout(()=>{const l=room.remoteParticipants.get(c);h(l);const T=l?.getTrackPublication(a);w(T)},1e3)),()=>{t!=0&&window.clearTimeout(t)}},[a,c,room,n]);const d=o.useCallback(()=>{g(window.innerHeight)},[]);if(o.useEffect(()=>{const t=S(d);return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[d]),n===void 0)return r.jsx("p",{children:" loading.... "});const v={participant:m,publication:n,source:a};return r.jsxs(b,{room,token:e,serverUrl:p,video:!1,audio:!1,children:[r.jsx(R,{muted:!0,autoPlay:!0,trackRef:v,height:f}),";"]})};Initializer.initBeforeReact().then(()=>{s.render(r.jsx(o.StrictMode,{children:r.jsx(j,{})}))}).catch(e=>{u.error("Failed to initialize app",e),s.render(e.message)});
//# sourceMappingURL=popout-DiFdPvvo.js.map
